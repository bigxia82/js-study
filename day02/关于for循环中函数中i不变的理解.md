```
如

 for (var i = 0; i < lis.length; i++) {
 lis[i].onclick=function(){
 console.log(i);

 }



 }


```

> #### 我个人认为还是var变量和函数的变量提升机制导致的，查看了老的文档，上面有写只有var和function才会产生作用域，for、if 并没有自己的作用域，故在for中访问已经声明过的i都是全局变量

>  此处在运行前应该是有一个变量提升，在运行前，先把i 和 function存起来，然后运行后i的值不断改变最后变成3,当点击事件发生时，函数内有自己的作用域，也会有一个变量提升机制
>  但此处没有带var的变量，因此往上找，发现全局有i，已经是循环的终值+1了